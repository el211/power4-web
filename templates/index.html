{{define "content"}}
<section class="status">
    <div>
        Au tour de :
        <span id="playerLabel" style="color:{{if eq .CurrentStr "R"}}var(--red){{else}}var(--yellow){{end}};">
        {{if eq .CurrentStr "R"}}Rouge{{else}}Jaune{{end}}
        </span>
    </div>
    <div id="score">
        <span>ðŸ”´ Rouge: <strong>{{.Scores.R}}</strong></span>
        <span>ðŸŸ¡ Jaune: <strong>{{.Scores.Y}}</strong></span>
    </div>
</section>

{{if .Message}}
<div class="notice">{{.Message}}</div>
<div class="controls-row">
    <form method="post" action="/replay"><button type="submit">Rejouer (garder scores)</button></form>
    <form method="post" action="/reset"><button type="submit">Remise Ã  zÃ©ro</button></form>
</div>
{{end}}

<!-- RangÃ©e de boutons de dÃ©pÃ´t (une flÃ¨che par colonne) -->
<div class="controls-row">
    {{range $c := .Cols}}
    <form method="post" action="/play">
        <input type="hidden" name="col" value="{{$c}}">
        <button type="submit" title="DÃ©poser dans la colonne {{$c}}">â–¼</button>
    </form>
    {{end}}
</div>

<!-- Plateau : 7 colonnes Ã— 6 lignes (clic sur la colonne = dÃ©pÃ´t avec gravitÃ©) -->
<section class="board" aria-label="Plateau Puissance 4" role="grid">
    {{range $c := .Cols}}
    <div class="col">
        {{/* cellules visuelles */}}
        {{range $r := $.Rows}}
        {{$cell := index (index $.Grid $r) $c}}
        <div class="cell {{if index $.Winning $r $c}}winner{{end}}">
            {{if eq $cell 82}}<div class="piece red"></div>{{end}}    {{/* 82 == 'R' */}}
            {{if eq $cell 89}}<div class="piece yellow"></div>{{end}} {{/* 89 == 'Y' */}}
        </div>
        {{end}}

        {{/* bouton invisible couvrant toute la colonne -> clic n'importe oÃ¹ dans la colonne */}}
        <form method="post" action="/play" class="col-form">
            <button
                    type="submit"
                    name="col"
                    value="{{$c}}"
                    class="col-hit"
                    title="DÃ©poser dans la colonne {{$c}}"
                    aria-label="DÃ©poser dans la colonne {{$c}}"
                    {{if index $.Disabled $c}}disabled{{end}}>
            </button>
        </form>
    </div>
    {{end}}
</section>


{{end}}
